{"version":3,"sources":["media/avocados.jpg","components/theme.js","components/Footer.js","components/StyledComponents.js","components/pages/Home.js","backend/utils.js","backend/calculateDistance.js","components/Modal.js","components/Cards.js","data/data.js","backend/decide.js","components/pages/Places.js","components/Select.js","index.js"],"names":["module","exports","__webpack_require__","p","theme","Footer","react_default","a","createElement","FooterWrapper","FooterLink","href","target","rel","title","className","FooterTab","React","Component","styled","div","_templateObject","_templateObject2","span","_templateObject3","CenterWrapper","StyledComponents_templateObject","props","margin","StyledLink","NavLink","StyledComponents_templateObject2","Button","StyledComponents_templateObject3","backgroundColor","color","Emoji","_templateObject4","role","aria-label","input","FontSpinner","_templateObject5","PlainSpinner","Home","ContentWrapper","Image","src","avocados","alt","Content","Header","StyledComponents_Emoji","Description","Home_templateObject","Home_templateObject2","Home_templateObject3","img","Home_templateObject4","Home_templateObject5","isValidArray","array","Array","isArray","length","queryReducer","accumulator","curr","replace","getEncodedQuery","_len","arguments","queries","_key","reduce","getDirectionsUrl","coords","name","address","latitude","longitude","getSymbols","value","symbol","repeat","sin2","sin","Math","Modal","_React$Component","context","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getDistance","bind","assertThisInitialized","state","distance","inherits","createClass","key","options","undefined","Promise","resolve","reject","d","location","toRad","PI","latDiff","lat","lngDiff","lng","cos","atan2","sqrt","round","calculateDistance","_this2","_this$props","place","isGeoLoaded","geometry","then","res","setState","catch","err","object","_this$props2","show","handleClose","keys","Container","vicinity","Modal_Distance","Modal_Rating","Modal_Price","Modal_Availability","CloseButton","onClick","Fragment","Distance","_ref","Rating","_ref2","n","rating","totalRatings","user_ratings_total","concat","Price","_ref3","price_level","Availability","_ref4","isOpen","opening_hours","open_now","status","Label","Modal_templateObject","zoomFadeIn","keyframes","Modal_templateObject2","Modal_templateObject3","borderColor","Modal_templateObject4","Cards","showModal","hideModal","prev","place_id","results","CardsWrapper","Card","cards","map","modals","Modal_Modal","Cards_templateObject","Cards_templateObject2","label","phrases","prefix","suffix","emojis","random","list","floor","mockCafes","require","mockRestaurants","Places","getCurrentPosition","getNearbyPlaces","scriptsLoaded","navigator","geolocation","type","google","window","maps","Map","document","service","places","PlacesService","request","LatLng","radius","nearbySearch","PlacesServiceStatus","OK","includes","_this$state","isScriptLoaded","isScriptLoadSucceed","console","error","_this$state2","Places_DecideButton","components_Cards","StyledComponents_PlainSpinner","DecideButton","phrase","result","emoji","alert","decide","scriptLoader","Selector","handleChange","event","SelectContainer","react_router","to","react_select_browser_esm","onChange","Select_templateObject","App","react_router_dom","Title","Select_Selector","exact","path","component","render","pages_Places","assign","Footer_Footer","src_templateObject","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.95cb84f4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avocados.9c03fe29.jpg\";","export const theme = {\n  turquoise: \"#55DDE0\",\n  tealBlue: \"#33658A\",\n  darkSlateGray: \"#2F4858\",\n  saffron: \"#F6AE2D\",\n  giantsOrange: \"#F26419\",\n\n  bone: \"#DDD8B8\",\n  ashGrey: \"#B3CBB9\",\n  pewterBlue: \"#84A9C0\",\n  darkBlueGrey: \"#6A66A3\",\n  regalia: \"#542E71\",\n\n  paleMagentaPink: \"#F991CC\",\n  lightOrchid: \"#E2AFDE\",\n  lavenderGray: \"#D3C2CE\",\n  pastelGray: \"#D3D2C7\",\n  dutchWhite: \"#E2E1B9\",\n\n  melon: \"#F7BFB4\"\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { theme } from \"./theme\";\n\nexport default class Footer extends React.Component {\n  render() {\n    return (\n      <FooterWrapper>\n        <FooterLink\n          href=\"https://tsangela.github.io/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"website\"\n        >\n          <i className=\"fas fa-user-astronaut fa-2x\" />\n        </FooterLink>\n        <FooterLink\n          href=\"https://github.com/tsangela/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"github\"\n        >\n          <i className=\"fab fa-github fa-2x\" />\n        </FooterLink>\n        <FooterLink\n          href=\"https://github.com/tsangela/you-decide/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"repository\"\n        >\n          <i className=\"fas fa-code-branch fa-2x\" />\n        </FooterLink>\n        <FooterLink\n          href=\"mailto:?subject=Decide%20where%20to%20eat%20now%21&body=Check%20out%20this%20cool%20way%20to%20decide%20where%20to%20eat%3A%20https%3A//tsangela.github.io/you-decide/\"\n          title=\"share\"\n        >\n          <i className=\"fas fa-share-alt fa-2x\" />\n        </FooterLink>\n\n        <FooterTab>\n          <i className=\"far fa-heart fa-2x\"/>\n        </FooterTab>\n      </FooterWrapper>\n    );\n  }\n}\n\nconst FooterWrapper = styled.div`\n  position: fixed;\n  bottom: 10px;\n  left: -190px;\n  padding: 0.5rem 0.5rem 0.5rem 0;\n  \n  background: indianred;\n  border-radius: 0 50px 50px 0;\n\n  transition: 0.5s ease;\n  \n  &:hover {\n    left: 0;\n  }\n`;\n\nconst FooterLink = styled.a`\n  padding: 0.5rem;\n  color: white;\n`;\n\nconst FooterTab = styled.span`\n  padding: 0.5rem 0.1rem 0.5rem 2rem;\n  color: ${theme.melon};\n`;","import styled from \"styled-components\";\nimport {theme} from \"./theme\";\nimport {NavLink} from \"react-router-dom\";\nimport React from \"react\";\n\nexport const CenterWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  ${props => props.margin && \"margin: 1rem 2rem;\"}\n`;\n\nexport const StyledLink = styled(NavLink)`\n  text-decoration: none;\n  ${props => props.margin && \"margin: 0 0.5rem;\"}\n`;\n\nexport const Button = styled.div`\n  font-size: 20px;\n  padding: 0.5rem 1.5rem;\n  margin-top: 0.5rem;\n  \n  width: fit-content;\n  \n  background: ${props => props.backgroundColor || theme.lavenderGray};\n  color: ${props => props.color || \"whitesmoke\"};\n  \n  border-radius: 50px;\n  box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.05);\n  \n  transition: 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.15);\n    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.15);\n    cursor: pointer;\n  }\n`;\n\n\nexport const Highlight = styled.span`\n  background-image: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);\n  background-repeat: no-repeat;\n  background-size: 100% 0.2em;\n  background-position: 2px 100%;\n  transition: background-size 0.25s ease;\n  \n  &:hover {\n    background-size: 100% 100%;\n  }\n`;\n\nexport const Emoji = (props) => (\n  <span role='img' aria-label='icon'>{ props.input }</span>\n);\n\nconst FontSpinner = styled.span`\n  color: ${theme.ashGrey};\n`;\n\nexport const PlainSpinner = () => {\n  return <CenterWrapper margin>\n    <FontSpinner>\n      <i className=\"fa fa-spinner fa-spin fa-3x\" />\n    </FontSpinner>\n  </CenterWrapper>\n};","import React from \"react\";\nimport styled from \"styled-components\";\nimport {CenterWrapper, Emoji} from \"../StyledComponents\";\n\nimport avocados from \"../../media/avocados.jpg\";\n\nexport default class Home extends React.Component {\n  render() {\n    return <CenterWrapper margin>\n      <ContentWrapper>\n        <Image src={avocados} alt={\"avocados\"}/>\n        <Content>\n          <Header>\n            no more saying \"no u\" <Emoji input='üôÖüèª‚Äç‚ôÄÔ∏è'/>\n          </Header>\n          <Description>\n            find a food place nearby instantly,<br/>\n            know <i>exactly</i> where to eat.\n          </Description>\n        </Content>\n      </ContentWrapper>\n    </CenterWrapper>\n  }\n}\n\nconst Content = styled.div`\n  background: rgba(255,255,255,0.8);\n  \n  width: 280px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  \n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  \n  padding: 20px 10px; \n  overflow-y: scroll;\n  \n  @media only screen and (min-width: 600px) {\n    width: 450px;\n    height: 300px;\n  }\n`;\n\nconst Header = styled.span`\n  font-size: 30px;\n  font-weight: 900;\n  text-align: center;\n  \n  @media only screen and (min-width: 600px) {\n    font-size: 34px;\n  }\n`;\n\nconst Description = styled.p`\n  font-size: 16px;\n  text-align: center;\n  \n  @media only screen and (min-width: 600px) {\n    font-size: 20px;\n  }\n`;\n\nconst Image = styled.img`\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  \n  border-radius: 10px;\n  width: 300px;\n  \n  @media only screen and (min-width: 600px) {\n    width: 470px; \n  }\n`;\n\nconst ContentWrapper = styled.div`\n  display: flex;\n  position: relative;\n`;","export const isValidArray = array => Array.isArray(array) && array.length > 0;\n\nexport const isNonEmptyObject = object => object && Object.keys(object).length > 0;\n\nexport const roundToOneDecimal = n => n && Math.round(n * 10) / 10;\n\nconst queryReducer = (accumulator, curr) => accumulator + '+' + curr.replace(/ /gi, '+');\n\nconst getEncodedQuery = (...queries) => queries.reduce(queryReducer, '');\n\nexport const getMapUrl = (name, address) => name && address ? 'https://www.google.ca/maps/search/' + getEncodedQuery(name, address) : '#';\n\nexport const getDirectionsUrl = (coords, name, address) => name && address ? 'https://www.google.ca/maps/dir/' + coords.latitude + ',' + coords.longitude  + '/' + getEncodedQuery(name, address) : '#';\n\nexport function getSymbols(value, symbol) {\n  return !value ? 'N/A' : symbol.repeat(value);\n}\n\nexport function promisify(callback, options = {}) {\n  return new Promise((resolve, reject) => {\n    callback(resolve, reject, options);\n  });\n}","const sin2 = value => {\n  const sin = Math.sin(value);\n  return sin * sin;\n};\n\n/**\n * Uses the Haversine formula to calculate the distance between two geographic coordinates.\n *\n * Formula:\n *    a = sin¬≤(ŒîœÜ/2) + cos œÜ1 ‚ãÖ cos œÜ2 ‚ãÖ sin¬≤(ŒîŒª/2)\n *    c = 2 ‚ãÖ atan2( ‚àöa, ‚àö(1‚àía) )\n *    d = R ‚ãÖ c\n *    where œÜ is latitude, Œª is longitude, R is earth‚Äôs radius\n *\n * @param  location the destination coordinates\n * @param  coords   the user's current geographic coordinates\n * @return number   the distance to the given location from the user's current location in km\n */\nexport function calculateDistance(location, coords) {\n  // Convert coordinates to radians\n  const {latitude, longitude} = coords;\n  const toRad = Math.PI / 180;\n  let latDiff = (location.lat - latitude) * toRad;  // ŒîœÜ\n  let lngDiff = (location.lng - longitude) * toRad; // ŒîŒª\n\n  // Apply Haversine formula\n  let a = sin2(latDiff / 2) + (Math.cos(latitude) * Math.cos(location.lat) * sin2(lngDiff / 2));\n  let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  let d = 6371 * c;\n\n  // Round to 2 decimal places\n  return Math.round(d * 100) / 100;\n}","import React from \"react\";\nimport styled, {keyframes} from \"styled-components\";\nimport {theme} from \"./theme\";\nimport {Emoji} from \"./StyledComponents\";\nimport {\n  getDirectionsUrl,\n  getMapUrl,\n  getSymbols,\n  isNonEmptyObject,\n  roundToOneDecimal\n} from \"../backend/utils\";\nimport {calculateDistance} from \"../backend/calculateDistance\";\n\nexport class Modal extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.getDistance = this.getDistance.bind(this);\n\n    this.state = {\n      distance: null\n    };\n  }\n\n  getDistance(options = {}) {\n    return new Promise((resolve, reject) => {\n      const d = calculateDistance(options.location, options.coords);\n      d ? resolve(d) : reject(d);\n    });\n  }\n\n  componentDidUpdate() {\n    const { place, coords } = this.props;\n    const { distance } = this.state;\n    const isGeoLoaded = place.geometry\n      && place.geometry.location\n      && place.geometry.location.lat\n      && place.geometry.location.lng;\n\n    if (!distance && isGeoLoaded) {\n      this.getDistance({location: place.geometry.location, coords: coords})\n        .then(res => {\n          // console.log(res);\n          this.setState({distance: res})\n        })\n        .catch(err => {\n          // do nothing\n          // console.error(err);\n        });\n    }\n  }\n\n  render() {\n    const { place, show, handleClose, coords } = this.props;\n    const { distance } = this.state;\n\n    return isNonEmptyObject(place)\n      ? <Container show={show}>\n        <h3>{place.name}</h3>\n        <p>{place.vicinity}</p>\n        <Distance distance={distance} place={place} coords={coords}/>\n        <Rating place={place}/>\n        <Price place={place}/>\n        <Availability place={place}/>\n        <CloseButton onClick={handleClose}><Emoji input={'üëå'}/></CloseButton>\n      </Container> : <></>;\n  }\n}\n\nconst Distance = ({distance, place, coords}) => {\n  return <p>{distance ?\n    <span>\n      <Emoji input={'üìç'}/>\n      <a href={getDirectionsUrl(coords, place.name, place.vicinity)} target='_blank'\n         rel=\"noopener noreferrer\">{distance} km</a>\n    </span> :\n    <i className=\"fa fa-spinner fa-spin\"/>}\n  </p>\n};\n\nconst Rating = ({place}) => {\n  const rating = place.rating;\n  const totalRatings = place.user_ratings_total;\n  return <div>\n    <span><b>Rating:</b> {getSymbols(rating, '‚≠ê')} {roundToOneDecimal(rating)} {totalRatings && `(${totalRatings})`}</span>\n  </div>\n};\n\nconst Price = ({place}) => {\n  return <div>\n    <span><b>Price:</b> {getSymbols(place.price_level, 'üí∞')}</span>\n  </div>\n};\n\nconst Availability = ({place}) => {\n  const isOpen = place.opening_hours && (place.opening_hours.open_now ? place.opening_hours.open_now : place.opening_hours.isOpen());\n  const status = isOpen ? \"Open\" : \"Closed\";\n\n  return (\n  <a href={getMapUrl(place.name, place.vicinity)} target='_blank'\n     rel=\"noopener noreferrer\">\n    <Label isOpen={isOpen}>{status}</Label>\n  </a>)\n};\n\nconst Label = styled.span`\n  display: inline-block;\n  // background: ${props => (props.isOpen ? \"mediumseagreen\" : \"indianred\")};\n  // color: white;\n  color: ${props => (props.isOpen ? \"mediumseagreen\" : \"indianred\")};\n  border: 1px dashed ${props => (props.isOpen ? \"mediumseagreen\" : \"indianred\")};\n  \n  padding: 0.5rem 1.5rem;\n  margin: 1rem;\n  border-radius: 50px;\n  \n  transition: 0.2s ease;\n  \n  &:hover {\n    background: ${props => (props.isOpen ? \"mediumseagreen\" : \"indianred\")};\n    color: white;\n  }\n`;\n\nconst zoomFadeIn = keyframes`\n  0% {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n`;\n\nconst Container = styled.div`\n  position: fixed;\n  display: ${props => (props.show ? \"block\" : \"none\")};\n  text-align: center;\n  background: white;\n  width: 18rem;\n  padding: 1.5rem;\n  box-shadow: 2px 2px 22px rgba(0, 0, 0, 0.15);\n  border-top: 1.2rem solid ${props => props.borderColor || theme.lavenderGray};\n  overflow: auto;\n  \n  animation: 0.25s ${zoomFadeIn};\n`;\n\nconst CloseButton = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  font-size: 1.5rem;\n  transition: transform 0.2s;\n  margin: 0.5rem;\n\n  &:hover {\n    transform: scale(1.2);\n    cursor: pointer;\n  }\n`;\n\n","import React, {Component} from \"react\";\nimport styled from \"styled-components\";\nimport {Modal} from \"./Modal\";\nimport {CenterWrapper} from \"./StyledComponents\";\nimport {isValidArray} from \"../backend/utils\";\n\nclass Cards extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n\n    this.state = {\n      prev: null,\n      show: null,\n      place: null\n    };\n  }\n\n  showModal(place) {\n    this.setState({\n      prev: this.state.show,\n      show: place.place_id,\n      place: place\n    });\n  }\n\n  hideModal() {\n    this.setState({\n      prev: this.state.show,\n      show: null\n    });\n  }\n\n  render() {\n    const { results, coords } = this.props;\n\n    if (results.length === 0) {\n      return (\n        <CardsWrapper>\n          <Card key={`card.no_results`}>\n            <p>No results found!</p>\n          </Card>\n        </CardsWrapper>\n      );\n    }\n\n    const cards =\n      isValidArray(results) &&\n      results.map(place =>\n        <Card\n          key={`card.${place.place_id}`}\n          onClick={() => this.showModal(place)}\n        >\n          <p>{place.name}</p>\n        </Card>\n      );\n\n    const modals =\n      isValidArray(results) &&\n      results.map(place =>\n        <Modal\n          key={`modal.${place.place_id}`}\n          place={place}\n          show={this.state.show === place.place_id}\n          handleClose={() => this.hideModal()}\n          coords={coords}\n        />\n      );\n\n    return (\n      <CardsWrapper>\n        {cards}\n        {modals}\n      </CardsWrapper>\n    );\n  }\n}\n\nconst CardsWrapper = styled(CenterWrapper)`\n  margin: 1rem 2rem;\n  width: 400px\n`;\n\nconst Card = styled.div`\n  text-align: center;\n  background: ghostwhite;\n  width: 10rem;\n  padding: 0.5rem;\n  margin: 0.5rem;\n  border-radius: 0.5rem;\n  -webkit-transition: transform 0.3s;\n  -moz-transition: transform 0.3s;\n  -ms-transition: transform 0.3s;\n  -o-transition: transform 0.3s;\n  transition: transform 0.3s;\n  box-shadow: 2px 2px 22px rgba(0, 0, 0, 0.15);\n\n  &:hover {\n    transform: scale(1.1);\n    cursor: pointer;\n  }\n`;\n\nexport default Cards;\n","export const options = [\n  { value: \"restaurants\", label: \"üçö restaurant\" },\n  { value: \"cafes\", label: \"üçµ cafe\" },\n  { value: \"bakeries\", label: \"üçû bakery\" },\n  { value: \"bars\", label: \"üçª bar\" }\n];\n\nexport const phrases = [\n  {\n    prefix: \"Get goin' to \",\n    suffix: \"\"\n  },\n  {\n    prefix: \"Hurry on your way to \",\n    suffix: \"\"\n  },\n  {\n    prefix: \"Guess it's \",\n    suffix: \"\"\n  },\n  {\n    prefix: \"The spirits tell me \",\n    suffix: \"\"\n  },\n  {\n    prefix: \"According to the alignment of the stars, \",\n    suffix: \"\"\n  },\n  {\n    prefix: \"All signs point to \",\n    suffix: \"\"\n  },\n  {\n    prefix: \"Perhaps \",\n    suffix: \"?\"\n  },\n  {\n    prefix: \"Maybe \",\n    suffix: \"?\"\n  },\n  {\n    prefix: \"\",\n    suffix: \" it is!\"\n  },\n  {\n    prefix: \"\",\n    suffix: \" is the right choice!\"\n  }\n];\n\nexport const emojis = [\n  \"üéâ\",\n  \"üéä\",\n  \"üîÆ\",\n  \"üôà\",\n  \"üê∑\",\n  \"üå±\",\n  \"üíñ\",\n  \"üíï\",\n  \"üëè\",\n  \"‚úåÔ∏è\",\n  \"üçû\",\n  \"üí°\",\n  \"‚ú®\"\n];","import { phrases, emojis } from '../data/data'\n\nexport function decide(results) {\n  if (!results || results.length === 0) {\n    alert(\"üö® No locations to decide from!\");\n    return;\n  }\n\n  const phrase = random(phrases);\n  const result = random(results);\n  const emoji = ' ' + random(emojis);\n  alert(phrase.prefix + result.name + phrase.suffix + emoji);\n}\n\nfunction random(list) {\n  return list[Math.floor(Math.random() * list.length)];\n}","import {Button, CenterWrapper, Emoji, PlainSpinner} from '../StyledComponents';\nimport Cards from '../Cards';\nimport React from 'react';\nimport scriptLoader from 'react-async-script-loader';\nimport {decide} from \"../../backend/decide\";\n\nconst mockCafes = require(\"../../data/test/nearby-cafes-ubc.json\");\nconst mockRestaurants = require(\"../../data/test/nearby-restaurants-ubc\");\n\nclass Places extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.getCurrentPosition = this.getCurrentPosition.bind(this);\n    this.getNearbyPlaces = this.getNearbyPlaces.bind(this);\n\n    this.state = {\n      scriptsLoaded: false,\n      coords: null,\n      results: null\n    };\n  }\n\n  getCurrentPosition() {\n    return new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(resolve, reject);\n    });\n  }\n\n  /**\n   * Retrieves the places of the specified type (e.g. restaurant, cafe) within 1000m radius of the user\n   * Uses Google Place Search API {@link https://developers.google.com/maps/documentation/javascript/places}\n   *\n   * @param coords The coordinates of the user's current geolocation\n   * @return Promise<Array> An array of the retrieved places\n   */\n  getNearbyPlaces(coords) {\n    const {type} = this.props;\n    const google = window.google;\n\n    // Attack to empty node since we're not displaying the map\n    let map = new google.maps.Map(document.createElement('div'));\n    let service = new google.maps.places.PlacesService(map);\n\n    // Promisify callback\n    return new Promise((resolve, reject) => {\n      // Grab coordinate components\n      let lat = coords.latitude;\n      let lng = coords.longitude;\n      let here = new google.maps.LatLng(lat, lng);\n      let request = {\n        location: here,\n        radius: '1000',\n        type: type\n      };\n\n      // Get places matching type near coords\n      service.nearbySearch(request, (results, status) => {\n        if (status === google.maps.places.PlacesServiceStatus.OK) {\n          resolve(results);\n        } else {\n          reject(type.includes('cafe') ? mockCafes : mockRestaurants); // Mock values for now\n          // reject(results); // Renders `No results found!` card\n        }\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    const {scriptsLoaded, coords, results} = this.state;\n    const {isScriptLoaded, isScriptLoadSucceed} = this.props;\n\n    // Check if Google Maps script loaded\n    const google = window.google;\n    if (!scriptsLoaded && isScriptLoaded && isScriptLoadSucceed && google && google.maps) {\n      this.setState({scriptsLoaded: true});\n    }\n\n    // Capture user's coordinates\n    if (!coords) {\n      this.getCurrentPosition()\n        .then(res => {\n          this.setState({coords: res.coords});\n        })\n        .catch(err => {\n          console.error(err);\n        })\n    }\n\n    // Capture results\n    if (!results && coords && scriptsLoaded) {\n      this.getNearbyPlaces(coords)\n        .then(res => {\n          // console.log(JSON.stringify(res));\n          this.setState({results: res});\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({results: err});\n        });\n    }\n  }\n\n  render() {\n    const {scriptsLoaded, coords, results} = this.state;\n\n    return scriptsLoaded && coords && Array.isArray(results) ?\n      <CenterWrapper margin>\n        {results.length > 0 && <DecideButton results={results}/>}\n        <Cards results={results} coords={coords}/>\n      </CenterWrapper> :\n      <PlainSpinner/>;\n  }\n}\n\nconst DecideButton = ({ results }) => (\n  <Button\n    key=\"decide\"\n    onClick={() => decide(results)}\n  >\n    hit me up <Emoji input={'‚ú®'}/>\n  </Button>\n);\n\nexport default scriptLoader(['https://maps.googleapis.com/maps/api/js?key=' + process.env.REACT_APP_GOOGLE_PLACES_API_KEY + '&libraries=places'])(Places);","import Select from \"react-select\";\nimport {options} from \"../data/data\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport {Redirect} from \"react-router\";\n\nexport default class Selector extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n\n    this.state = {\n      value: null\n    };\n  }\n\n  handleChange(event) {\n    const value = event.value;\n    this.setState({value});\n  }\n\n  render() {\n    const { value } = this.state;\n\n    return <SelectContainer>\n      {value && <Redirect to={`/${value}`} />}\n      <form>\n        <Select\n          name={\"type\"}\n          onChange={this.handleChange}\n          options={options}\n        />\n        <noscript><input type=\"submit\" value=\"go!\"/></noscript>\n      </form>\n    </SelectContainer>\n  }\n};\n\nconst SelectContainer = styled.div`\n  position: relative;\n  z-index: 999 !important;\n  width: 50%;\n  transform: translate(50%, 0%);\n  \n  @media only screen and (min-width: 800px) {\n    width: 40%;\n    transform: translate(75%, 0%);\n  }\n`;\n","import \"./index.css\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {Route} from \"react-router\";\nimport styled from \"styled-components\";\nimport Footer from \"./components/Footer\";\nimport {theme} from \"./components/theme\";\nimport {CenterWrapper, StyledLink} from \"./components/StyledComponents\";\nimport Home from \"./components/pages/Home\";\nimport Places from \"./components/pages/Places\";\nimport Select from \"./components/Select\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Router>\n        <CenterWrapper margin>\n          <StyledLink to=\"/\">\n            <Title>you decide</Title>\n          </StyledLink>\n        </CenterWrapper>\n        <Select/>\n        <Route exact path=\"/\" component={Home}/>\n        <Route path=\"/restaurants\" render={(props) => <Places {...props} type={['restaurant', 'food']}/>}/>\n        <Route path=\"/cafes\" render={(props) => <Places {...props} type={['cafe']}/>}/>\n        <Route path=\"/bakeries\" render={(props) => <Places {...props} type={['bakery']}/>}/>\n        <Route path=\"/bars\" render={(props) => <Places {...props} type={['bar']}/>}/>\n        <Footer/>\n      </Router>\n    );\n  }\n}\n\nconst Title = styled.div`\n  width: fit-content;\n  padding: 5px;\n  border: 1px solid ${theme.ashGrey};\n  transition: ease 0.3s;\n  \n  color: ${theme.ashGrey};\n  font-size: 2.5rem;\n\n  &:hover {\n    padding-left: 10px;\n    border-color: ${theme.ashGrey};\n    background-color: ${theme.ashGrey};\n    color: whitesmoke;\n    letter-spacing: 5px;\n  }\n`;\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n"],"sourceRoot":""}